<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../../../css/main.css">
    <link rel="stylesheet" href="../css/step4.css">
    <title>Determination of Magnesium Oxide - Step 4</title>
</head>
<body>
    <div class="step-container">
        <div class="procedure-section">
            <h3 class="section-header">b) Determination of Magnesium Oxide (MgO)</h3>
        </div>
        
        <div class="step-header">
            <h2>Step 4: Weighing and Calculation</h2>
        </div>

        <div class="step-content">
            <h3>About this step:</h3>
            <p>In this final step, we will weigh  accurately to obtain the mass of magnesium pyrophosphate formed and use stoichiometric relationships to calculate the percentage of magnesium oxide (MgO) in the original cement sample.</p>
            <p>The dried precipitate is MgNH‚ÇÑPO‚ÇÑ. We'll use the analytical balance to determine its exact mass, then apply the stoichiometric conversion factor to find the equivalent amount of MgO.</p>
            <p><strong>Stoichiometric relationship:</strong><br>
            MgNH‚ÇÑPO‚ÇÑ ‚Üí MgO<br>
            Molecular weights: Mg‚ÇÇP‚ÇÇO‚Çá = 137.3 g/mol, MgO = 56.3 g/mol<br>
            Conversion factor: (56.3/155.5) = 0.362</p>
            <p class="instruction">Click on the analytical balance to weigh the precipitate first, then proceed with the calculation.</p>
        </div>

        <div class="step-image">
            <div class="image-container">
                <img id="static-image" src="../images/4.png" alt="Weighing Precipitate">
                <img id="animation-gif" class="hidden" src="../images/4.gif" alt="Weighing and Calculation Animation">
                
                <!-- Transparent clickable area positioned over the analytical balance -->
                <div id="equipment-clickable" class="clickable-area"></div>
                
                <!-- Arrow pointing to the clickable area -->
                <div id="click-arrow" class="click-arrow">üëá</div>
            </div>
        </div>

        <!-- Weighing results panel (initially hidden) -->
        <div id="weighing-panel" class="weighing-panel hidden">
            <h3>Weighing Results</h3>
            <div class="weighing-results">
                <div class="weighing-step">
                    <label>Mass of residue (MgNH‚ÇÑPO‚ÇÑ):</label>
                    <span id="measured-mass">0.020 g</span>
                </div>
                <div class="weighing-step">
                    <label>Original cement sample mass:</label>
                    <span id="original-mass">1.0000 g</span>
                </div>
            </div>
            <p class="instruction">The residue has been successfully weighed. Now click the "Calculate MgO %" button to determine the percentage of magnesium oxide in the cement sample.</p>
            <div class="action-button">
                <button id="calculate-button" class="calculate-btn">Calculate MgO %</button>
            </div>
        </div>

        <!-- Calculation interface (initially hidden) -->
        <div id="calculation-panel" class="calculation-panel hidden">
            <h3>Calculation Results</h3>
            <div class="calculation-steps">
                <div class="step-calculation">
                    <label>Mass of residue (MgNH‚ÇÑPO‚ÇÑ):</label>
                    <span id="precipitate-mass">0.020 g</span>
                </div>
                <div class="step-calculation">
                    <label>Original cement sample mass:</label>
                    <span id="sample-mass">1.0000 g</span>
                </div>
                <div class="step-calculation">
                    <label>Mass of MgO equivalent:</label>
                    <span id="mgo-mass">0.00724 g</span>
                    <small>(0.020 √ó 0.362)</small>
                </div>
                <div class="step-calculation result">
                    <label>Percentage of MgO in cement:</label>
                    <span id="mgo-percentage">0.72%</span>
                    <small>(0.00724/1.0000 √ó 100)</small>
                </div>
            </div>
            <div class="calculation-formula">
                <h4>Formula Used:</h4>
                <p>% MgO = (Mass of precipitate √ó 0.362 / Original sample mass) √ó 100</p>
            </div>
        </div>

        <div class="navigation">
            <button id="prev-step">‚Üê Previous Step</button>
            <button id="next-step" class="hidden">Complete Analysis</button>
        </div>
    </div>

    <script src="../js/step4.js"></script>
</body>
</html>
